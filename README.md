# RP2350の性能評価

RP2350の評価用F/Wの個人開発リポジトリ

## 開発環境

『H/W』

- Raspberry Pi Pico 2

『S/W』

- Pico SDK ... Ver2.1.1

## 概要

### システム構成
- マルチコア構成（CPU Core0, Core1）
  - CPU Core0: メインアプリケーション実行
  - CPU Core1: デバッグコマンドモニター実行
- 通信インターフェース
  - SPI: 1MHz, 8bit
  - I2C: 400KHz
  - UART: 115200bps, 8N1
- その他H/W機能
  - DMA: 8bit転送
  - PIO: LED制御（3Hz）
  - タイマー割り込み: 2000ms
  - WDT: デバッグ時無効

### ビルド構成
- コンパイラ設定
  - C言語: C11
  - C++: C++17
  - 浮動小数点演算: H/Wの倍精度FPU（-mfloat-abi=hard）
- 標準出力: USB経由（UART無効）
- リンクライブラリ
  - pico_stdlib
  - pico_multicore
  - hardware_spi/i2c/dma/pio/interp/timer/watchdog/clocks

## 実装内容

F/Wの詳細は[設計書🔗](/doc/設計書/pj_rp2350.md)を確認すること

### app_main 🚀
- 📊 整数演算テスト
  - 加算、減算、乗算、除算の演算精度確認
  - 実行時間の計測機能付き
  - 100万回の演算を実行
- 📊 浮動小数点演算テスト
  - 単精度（float）と倍精度（double）の演算テスト
  - 加算、減算、乗算、除算の演算精度確認
  - 実行時間の計測機能付き
  - 100万回の演算を実行
- 🔢 円周率計算（Gauss-Legendreアルゴリズム）
  - 反復回数を指定可能
  - 高精度な計算結果を表示
  - 実行時間の計測機能付き
- 📐 三角関数テスト
  - sin, cos, tan関数の演算テスト
  - atan2関数の演算テスト
  - tan(355/226)の特殊なケーステスト
  - 逆平方根（1/sqrt(x)）の演算テスト
  - 実行時間の計測機能付き
- ⏱️ 実行時間計測機能
  - us単位での計測
  - 任意の関数の実行時間を計測可能
  - time_us_32()を使用した高精度な計測
- 🔄 デバッグコマンドモニター連携
  - コマンド実行時の時間計測
  - 各種テスト機能の提供
  - マルチコア対応（Core0, Core1）

### dbg_com 💻
- 📝 コマンド入力処理
  - バックスペース対応
  - 最大32文字までの入力
  - 最大4つの引数まで対応
  - コマンドバッファ管理
- 🔍 コマンド解析機能
  - 引数の数チェック
  - コマンドの種類判定
  - コマンドテーブルによる管理
- 🛠️ 実装コマンド
  - `help` - コマンド一覧表示
  - `ver` - SDKバージョン表示
  - `clock` - システムクロック情報表示
  - `at` - int/float/double四則演算テスト
  - `pi [iterations]` - 円周率計算（反復回数指定可能）
  - `trig` - 三角関数テスト実行
  - `atan2` - atan2関数テスト実行
  - `tan355` - tan(355/226)テスト実行
  - `isqrt` - 逆平方根テスト実行
  - `rst` - システムリセット
- ⚡ リセット機能
  - ウォッチドッグタイマーによる即時リセット
  - 安全なリセット処理
